/*
 * This code is for Internal Salesforce use only, and subject to change without notice.
 * Customers shouldn't reference this file in any web pages.
 */
function DevSlide(a,b,c,e){Sfdc.Perf.mark("DevSlide");this.slide=document.createElement("DIV");this.slide.id="devSlide";document.body.appendChild(this.slide);var d=document.createElement("DIV");d.className="handle";"rtl"==Sfdc.Dom.getStyle(this.slide,"direction")&&Sfdc.Dom.addClass(d,"rtl");this.slide.appendChild(d);d.innerHTML=a;d.firstChild.alt=LC.getLabel("DevContextMenu","menuArrowExpand");d.firstChild.title=LC.getLabel("DevContextMenu","menuArrowExpand");a=document.createElement("DIV");a.className=
"slideContainer";this.slideContainer=a;this.slide.appendChild(a);var f=document.createElement("DIV");f.className="header";var g=document.createElement("A");g.href=e;g.title=LC.getLabel("Tab_Home","setup");g.id="forceLogoLink";document.createElement("A");f.appendChild(g);a.appendChild(f);g.innerHTML=b;f.innerHTML+=c;this.slideBody=document.createElement("DIV");this.slideBody.className="slideBody";a.appendChild(this.slideBody);this.shim=new IframeShim(this.slideBody);c=document.createElement("DIV");
c.className="footer";a.appendChild(c);b=document.createElement("A");b.href="#";b.appendChild(document.createTextNode(LC.getLabel("devContextMenu","turnOff")));c.appendChild(b);this.toolPanelList=[];for(c=0;c<DevSlide.tools.length;c++)this.toolPanelList[c]=this.addSection(0<c);this.hidden=!0;this.toolList=[];for(c=0;c<DevSlide.tools.length;c++)for(e=0;e<DevSlide.tools[c].length;e++)this.addTool(c,DevSlide.tools[c][e]);Sfdc.on(d,"click",function(){this.toggleMenu(!1)},this);this.shown=!1;this.registerListeners();
Sfdc.on(document,"keydown",this.onDocKeydown,this);Sfdc.on(b,"click",this.confirmTurnOff,this);DevSlide.instance=this;Sfdc.Perf.endMark("DevSlide")}DevSlide.tools=[];DevSlide.addTools=function(a){for(var b=0;b<a.length;b++)DevSlide.addToolObject(a[b])};DevSlide.addToolObject=function(a,b){var c;c="number"==typeof b?b:"number"==typeof a.section?a.section:0;DevSlide.instance&&DevSlide.instance.addTool(c,a);DevSlide.tools[c]||(DevSlide.tools[c]=[]);DevSlide.tools[c].push(a)};
DevSlide.prototype={addTool:function(a,b){this.toolPanelList[a]||(this.toolPanelList[a]=this.addSection(0<a));this.toolPanelList[a].appendChild(this.createToolItem(b));this.show()},addSection:function(a){a&&(a=document.createElement("HR"),a.className="divider",this.slideBody.appendChild(a));a=document.createElement("UL");a.className="slideList";this.slideBody.appendChild(a);return a},createToolItem:function(a){var b=document.createElement("LI"),c=document.createElement("A"),e={liDomReference:b};this.toolList.push(e);
c.appendChild(document.createTextNode(a.title));c.className="toolLink";c.href=a.url;c.title=a.hoverText;a.newWindow&&(c.target="_blank");b.appendChild(c);if(a.newUrl){var c=document.createElement("A"),d=document.createElement("IMG");d.src="/img/dcm/add_icon.png";d.width=16;d.height=16;d.alt=LC.getLabel("Buttons","new");c.appendChild(d);c.appendChild(document.createTextNode(LC.getLabel("Buttons","new")));c.className="toolNewLink";c.href=a.newUrl;c.title=a.newLinkHover;a.newInNewWindow&&(c.target="_blank");
e.newLink=c;b.appendChild(c)}a=document.createElement("DIV");a.className="clearingBox";b.appendChild(a);return b},toggleMenu:function(a){this.shown?this.hideMenu():this.showMenu(a)},showMenu:function(a){var b="rtl"==Sfdc.Dom.getStyle(this.slide,"direction");Sfdc.userAgent.isIE6&&Sfdc.Dom.setStyle(this.slideContainer,"display","block");Sfdc.Dom.setStyle(this.slide,b?"left":"right","-2px");Sfdc.Dom.addClass(this.slide,"expanded");this.slide.firstChild.firstChild.alt=LC.getLabel("DevContextMenu","menuArrowCollapse");
this.slide.firstChild.firstChild.title=LC.getLabel("DevContextMenu","menuArrowCollapse");this.shim.refresh();this.shown=!0;var c=function(){document.getElementById("forceLogoLink").focus();Sfdc.userAgent.isWebkit&&document.removeEventListener("webkitTransitionEnd",c,!0)};a&&(this.previousKeyboardFocusContainer=document.getElementById("forceLogoLink"),Sfdc.userAgent.isWebkit?document.addEventListener("webkitTransitionEnd",c,!0):this.previousKeyboardFocusContainer.focus())},hideMenu:function(){var a=
"rtl"==Sfdc.Dom.getStyle(this.slide,"direction");Sfdc.userAgent.isIE6&&Sfdc.Dom.setStyle(this.slideContainer,"display","none");Sfdc.Dom.setStyle(this.slide,a?"left":"right","-230px");Sfdc.Dom.removeClass(this.slide,"expanded");this.slide.firstChild.firstChild.alt=LC.getLabel("DevContextMenu","menuArrowExpand");this.slide.firstChild.firstChild.title=LC.getLabel("DevContextMenu","menuArrowExpand");this.shim.refresh();this.shown=!1;this.previousKeyboardFocusContainer&&document.getElementById("home_Tab").firstChild.focus()},
show:function(){this.hidden&&(Sfdc.Dom.setStyle(this.slide,"display","block"),this.shim.refresh(),this.hidden=!1)},onSlideOver:function(a){for(a=Sfdc.Event.getEventTarget(Sfdc.Event.getEvent(a));a&&a!=this.slideBody&&a!=document.body;){if("LI"==a.nodeName){this.currentLiWithMouseFocus=a;Sfdc.Dom.addClass(a,"hover");break}a=a.parentNode}},onSlideOut:function(a){a=Sfdc.Event.getEvent(a);for(var b=Sfdc.Event.getEventTarget(a);b&&b!=this.slideBody&&b!=document.body;){if("LI"==b.nodeName&&Sfdc.Event.mouseExited(a,
b)){this.currentLiWithMouseFocus=null;b!=this.currentKeyboardFocusContainer&&Sfdc.Dom.removeClass(b,"hover");break}b=b.parentNode}},onDocKeydown:function(a){a=Sfdc.Event.getEvent(a);a.altKey&&Sfdc.Event.isKeyAction(a,Sfdc.Event.keyCode.SEMICOLON)&&this.toggleMenu(!0)},confirmTurnOff:function(a){var b=this;Dialogs.createCheckboxConfirmationDialog(LC.getLabel("devContextMenu","confirmTurnOffTitle"),LC.getLabel("devContextMenu","confirmTurnOffText"),null,LC.getLabel("devContextMenu","turnOff"),LC.getLabel("Buttons",
"cancel"),function(){Sfdc.UserContext.userPreferences.setBoolean("ShowDevContextMenu",!1);b.hide()},function(){}).show()},hide:function(){this.slide.style.display="none";this.shim.refresh()},registerListeners:function(){this.previousKeyboardFocusContainer=this.currentKeyboardFocusContainer=this.currentLiWithMouseFocus=null;Sfdc.on(this.slideBody,"mouseover",this.onSlideOver,this);Sfdc.on(this.slideBody,"mouseout",this.onSlideOut,this);var a=this.createKeyboardFocusHandler(),b=this.createKeyboardBlurHandler();
Sfdc.userAgent.isIE?(document.onfocusin=a,document.onfocusout=b):(document.addEventListener("focus",a,!0),document.addEventListener("blur",b,!0))},createKeyboardFocusHandler:function(){var a=this;return function(b){b=Sfdc.Event.getEvent(b);for(b=Sfdc.Event.getEventTarget(b);b&&b!=a.slide&&b!=document.body;){if("LI"==b.nodeName){a.currentKeyboardFocusContainer=b;Sfdc.Dom.addClass(a.currentKeyboardFocusContainer,"hover");a.previousKeyboardFocusContainer!=a.currentKeyboardFocusContainer&&a.previousKeyboardFocusContainer!=
a.currentLiWithMouseFocus&&Sfdc.Dom.removeClass(a.previousKeyboardFocusContainer,"hover");prevReference=a.getReferenceForToolItem(a.previousKeyboardFocusContainer);currReference=a.getReferenceForToolItem(a.currentKeyboardFocusContainer);prevReference&&(currReference&&prevReference.index>currReference.index&&currReference.newLink)&&currReference.newLink.focus();return}if("header"==b.className||"footer"==b.className){a.currentKeyboardFocusContainer=b;a.previousKeyboardFocusContainer!=a.currentKeyboardFocusContainer&&
a.previousKeyboardFocusContainer!=a.currentLiWithMouseFocus&&Sfdc.Dom.removeClass(a.previousKeyboardFocusContainer,"hover");return}b=b.parentNode}a.currentKeyboardFocusContainer&&Sfdc.Dom.removeClass(a.currentKeyboardFocusContainer,"hover");a.previousKeyboardFocusContainer&&Sfdc.Dom.removeClass(a.previousKeyboardFocusContainer,"hover");a.currentKeyboardFocusContainer=null}},createKeyboardBlurHandler:function(){var a=this;return function(b){b=Sfdc.Event.getEvent(b);for(b=Sfdc.Event.getEventTarget(b);b&&
b!=a.slide&&b!=document.body;){if("LI"==b.nodeName||"header"==b.className||"footer"==b.className){a.previousKeyboardFocusContainer=b;return}b=b.parentNode}a.previousKeyboardFocusContainer=null}},getReferenceForToolItem:function(a){for(var b=0;b<this.toolList.length;b++)if(this.toolList[b].liDomReference==a)return this.toolList[b].index=b,this.toolList[b];return null}};

//# sourceMappingURL=/javascript/1563191711000/sfdc/source/DevContextMenu.js.map
